# Collect Metrics

Проект для сбора и управления системными метриками в C++ с использованием многопоточности.

---
## Описание

Этот проект реализует библиотеку для сбора различных метрик, таких как:

- Текущее системное время (`DateMetric`)
- Загрузка процессора (`CPUMetric`)
- Количество HTTP-запросов (`HttpRequestMetric`)

Метрики обновляются с заданным интервалом, собираются и могут записываться в файл. Управление метриками происходит через класс `MetricManager`, который работает в отдельном потоке. Также при необходимости можно добавлять новые метрики путем наследования от класса `Metric`.

---
## Структура

- **metrics.hpp / metrics.cpp** — реализация классов метрик и менеджера.
- **main.cpp** — пример использования библиотеки.
- **Makefile** — скрипт сборки проекта.
- **docs** - документация проекта
---
## Классы

### Metric

Абстрактный базовый класс метрики. Содержит интерфейс для обновления и сбора значения.

### DateMetric

Метрика для получения текущей даты и времени.

### CPUMetric

Метрика для подсчёта загрузки CPU, считывая данные из `/proc/stat`.

### HttpRequestMetric

Метрика для подсчёта количества HTTP-запросов в секунду.

### MetricManager

Класс для управления набором метрик, обновления их в отдельном потоке и записи данных в файл.

---
## Как собрать

Требования: компилятор с поддержкой C++17 (например, g++).

Собрать проект можно командой:

```bash
make metric
```

Запустить:

```bash
./metric.exe
```